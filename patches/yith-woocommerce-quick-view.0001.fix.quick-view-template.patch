From 4c152e84bec38a672f19cc55f3946b132b0fc43a Mon Sep 17 00:00:00 2001
From: Luca Pipolo <luca@netzstrategen.com>
Date: Tue, 18 Aug 2020 11:46:47 +0200
Subject: [PATCH] Fixed wrong template was used by YITW quick view plugin.

---
 templates/yith-quick-view-content.php | 74 +++++++++++++++------------
 1 file changed, 42 insertions(+), 32 deletions(-)

diff --git a/templates/yith-quick-view-content.php b/templates/yith-quick-view-content.php
index d73669bb7..7db2f4281 100644
--- a/templates/yith-quick-view-content.php
+++ b/templates/yith-quick-view-content.php
@@ -1,11 +1,4 @@
 <?php
-/**
- * Quick view content.
- *
- * @author  YITH
- * @package YITH WooCommerce Quick View
- * @version 1.0.0
- */
 
 /**
  * This file belongs to the YIT Framework.
@@ -14,30 +7,47 @@
  * that is bundled with this package in the file LICENSE.txt.
  * It is also available through the world-wide-web at this URL:
  * http://www.gnu.org/licenses/gpl-3.0.txt
+ *
  */
 
-if ( ! defined( 'ABSPATH' ) ) {
-	exit; // Exit if accessed directly.
-}
-
-while ( have_posts() ) :
-	the_post();
-	?>
-
-	<div class="product">
-
-		<div id="product-<?php the_ID(); ?>" <?php post_class( 'product' ); ?>>
-
-			<?php do_action( 'yith_wcqv_product_image' ); ?>
-
-			<div class="summary entry-summary">
-				<div class="summary-content">
-					<?php do_action( 'yith_wcqv_product_summary' ); ?>
-				</div>
-			</div>
-
-		</div>
-
-	</div>
-	<?php
-endwhile; // end of the loop.
+while (have_posts()) :
+  the_post();
+?>
+
+<?php do_action('woocommerce_before_single_product'); ?>
+
+<div id="product-<?php the_ID(); ?>" <?php wc_product_class(); ?>>
+  <div class="row">
+    <div class="col-md-5">
+      <aside class="sidebar-single-product" role="complementary">
+        <?php
+          // yith-woocommerce-quick-view plugin removes product thumbnails in the
+          // quick view template loaded via AJAX.
+          add_action('woocommerce_product_thumbnails', 'woocommerce_show_product_thumbnails', 20);
+          wc_get_template('single-product/product-image.php');
+        ?>
+      </aside>
+    </div>
+    <div class="col-md-7">
+      <div class="product-summary">
+        <?php
+          /**
+           * woocommerce_single_product_summary hook.
+           *
+           * @hooked woocommerce_template_single_title - 5
+           * @hooked woocommerce_template_single_rating - 10
+           * @hooked woocommerce_template_single_price - 10
+           * @hooked woocommerce_template_single_excerpt - 20
+           * @hooked woocommerce_template_single_add_to_cart - 30
+           * @hooked woocommerce_template_single_meta - 40
+           * @hooked woocommerce_template_single_sharing - 50
+           * @hooked WC_Structured_Data::generate_product_data() - 60
+           */
+          do_action('woocommerce_single_product_summary');
+        ?>
+      </div>
+    </div>
+  </div>
+</div><!-- #product-<?php the_ID(); ?> -->
+<?php do_action('woocommerce_after_single_product'); ?>
+<?php endwhile;
-- 
2.30.1

