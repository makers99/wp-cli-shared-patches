From ac1ede618c488b9ae1c3fccb16941cc10a9f3e92 Mon Sep 17 00:00:00 2001
From: Bogdan Arizancu <bogdan@netzstrategen.com>
Date: Fri, 29 Apr 2022 09:55:31 +0300
Subject: [PATCH] Fixed fatal error caused by elasticpress while indexing
 individual posts.

---
 includes/classes/Indexable/Term/Term.php | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/includes/classes/Indexable/Term/Term.php b/includes/classes/Indexable/Term/Term.php
index eab14b2b0..4273e277a 100644
--- a/includes/classes/Indexable/Term/Term.php
+++ b/includes/classes/Indexable/Term/Term.php
@@ -720,7 +720,7 @@ class Term extends Indexable {
 		 */
 		$all_query = new WP_Term_Query( apply_filters( 'ep_term_all_query_db_args', $all_query_args, $args ) );
 
-		$total_objects = count( $all_query->terms );
+		$total_objects = count( (array) $all_query->terms );
 
 		if ( ! empty( $args['offset'] ) ) {
 			if ( (int) $args['offset'] >= $total_objects ) {
-- 
2.32.0 (Apple Git-132)

