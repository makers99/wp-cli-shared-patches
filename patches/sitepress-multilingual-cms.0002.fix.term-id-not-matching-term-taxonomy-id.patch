From 04df782684cfbe2e7e47d07bcc5c1a6eb4a51bbf Mon Sep 17 00:00:00 2001
From: adabaca <ada@olivestudio.ro>
Date: Thu, 27 Apr 2023 10:28:39 +0300
Subject: [PATCH] Fixed WPML term IDs not equal to term taxonomy IDs, after
 update.

---
 .../wpml-term-translation.class.php                    | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

diff --git a/inc/taxonomy-term-translation/wpml-term-translation.class.php b/inc/taxonomy-term-translation/wpml-term-translation.class.php
index e7806b726..6aa518366 100644
--- a/inc/taxonomy-term-translation/wpml-term-translation.class.php
+++ b/inc/taxonomy-term-translation/wpml-term-translation.class.php
@@ -131,11 +131,11 @@ class WPML_Term_Translation extends WPML_Element_Translation {
 			$this->ttids = array();
 
 			foreach ($data as $row) {
-					$this->ttids[$row['term_id']] = isset($this->ttids[$row['term_id']])
-							? absint($this->ttids[$row['term_id']])
-							: array();
-					$this->ttids[$row['term_id']][$row['taxonomy']] = absint($row['element_id']);
-					$this->term_ids[$row['element_id']] = absint($row['term_id']);
+				$this->ttids[$row['term_id']] = isset($this->ttids[$row['term_id']])
+					? absint($this->ttids[$row['term_id']])
+					: array();
+				$this->ttids[$row['term_id']][$row['taxonomy']] = absint($row['element_id']);
+				$this->term_ids[$row['element_id']] = absint($row['term_id']);
 			}
 		}
 	}
-- 
2.34.1

