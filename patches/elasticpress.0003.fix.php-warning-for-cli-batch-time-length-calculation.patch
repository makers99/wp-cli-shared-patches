From b377a1313cb023c022167921038dbab8cc8aaee4 Mon Sep 17 00:00:00 2001
From: navidabdi <artsanaat@gmail.com>
Date: Fri, 21 Mar 2025 12:47:11 +0400
Subject: [PATCH] fix: PHP warning for batch time length calculation in
 ElasticPress CLI

---
 includes/classes/Command.php | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/includes/classes/Command.php b/includes/classes/Command.php
index 0ae7e9bcd..55b30596d 100644
--- a/includes/classes/Command.php
+++ b/includes/classes/Command.php
@@ -1331,7 +1331,7 @@ class Command extends WP_CLI_Command {
 		if ( 'index_next_batch' === $context ) {
 			++$counter;
 			if ( ( $counter % 10 ) === 0 ) {
-				$time_elapsed_diff = $time_elapsed > 0 ? ' (+' . (string) ( Utility::timer_stop() - $time_elapsed ) . ')' : '';
+				$time_elapsed_diff = $time_elapsed > 0 ? ' (+' . (string) ( Utility::timer_stop() - (int) $time_elapsed ) . ')' : '';
 				$time_elapsed      = Utility::timer_stop( 2 );
 				WP_CLI::log( WP_CLI::colorize( '%Y' . esc_html__( 'Time elapsed: ', 'elasticpress' ) . '%N' . Utility::timer_format( $time_elapsed ) . $time_elapsed_diff ) );
 
-- 
2.39.5 (Apple Git-154)

